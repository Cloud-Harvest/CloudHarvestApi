# This API
api:
  host: 0.0.0.0
  port: 8000

# Backend MongoDb
cache:
  connection:
    host: mongo
    port: 27017
    username:     # intentionally null
    password:     # intentionally null

  # base.py backend database indexes
  indexes:
    harvest:  &harvest_indexes
      api_nodes:
        - hostname
        - end
      pstar:
        - Platform
        - Service
        - Type
        - Account
        - Region
        - Records
        - Errors
        - keys:
            - field: Platform
            - field: Service
            - field: Type
            - field: Account
            - field: Region
          options:
            name: unique_pstar_idx
            comment: unique identifier for pstar records
            unique: true
      meta:
        - [Collection, CollectionId]
        - keys:
            - field: Harvest.Module.UniqueFilter
          options:
            unique: true
    test:
      <<: *harvest_indexes

# API Log File level and location
logging:
  level: debug
  location: ./.harvest/api/logs/
